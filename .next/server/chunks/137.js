exports.id=137,exports.ids=[137],exports.modules={979:()=>{},1690:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>h});var e=c(8732),f=c(6451);c(979);var g=a([f]);function h({Component:a,pageProps:b}){return(0,e.jsx)(f.N,{children:(0,e.jsx)(a,{...b})})}f=(g.then?(await g)():g)[0],d()}catch(a){d(a)}})},2514:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(2341);function f(){return(0,d.jsxs)(e.Html,{lang:"ja",children:[(0,d.jsx)(e.Head,{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},3475:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{D3:()=>h,jg:()=>i,ut:()=>j});var e=c(8462),f=c(3950),g=a([e,f]);[e,f]=g.then?(await g)():g;let h=()=>(0,e.useQuery)({queryKey:["command"],queryFn:f.K.getCommand,refetchInterval:1e3,staleTime:500,retry:1,retryDelay:1e3}),i=(a=20)=>(0,e.useQuery)({queryKey:["logs",a],queryFn:()=>f.K.getLogs(a),refetchInterval:2e3,staleTime:1e3,retry:1,retryDelay:1e3}),j=()=>(0,e.useQuery)({queryKey:["health"],queryFn:f.K.healthCheck,refetchInterval:3e4,retry:1});d()}catch(a){d(a)}})},3950:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{K:()=>i});var e=c(1428),f=a([e]);e=(f.then?(await f)():f)[0];let g="http://localhost:8000/api",h=e.default.create({baseURL:g,timeout:1e4,headers:{"Content-Type":"application/json"}});h.interceptors.response.use(a=>a,a=>(console.error("API Error:",a),Promise.reject(a)));let i={getCommand:async()=>(await h.get("/command")).data,async sendCommand(a){let b=await h.post("/log",{word:a});if(!b.data.success)throw Error(b.data.error||"Failed to send command");return{id:b.data.data.id,word:b.data.data.word,timestamp:b.data.data.timestamp}},async getLogs(a=20){let b=await h.get(`/logs?limit=${a}`);if(!b.data.success)throw Error(b.data.error||"Failed to get logs");return b.data.data||[]},async getStats(){let a=await h.get("/stats");if(!a.data.success)throw Error(a.data.error||"Failed to get stats");return a.data.data},healthCheck:async()=>(await h.get("/health")).data,speech:{async predict(a,b={}){let c=new FormData;return c.append("audio_file",a),void 0!==b.confidenceThreshold&&c.append("confidence_threshold",b.confidenceThreshold.toString()),void 0!==b.autoExecute&&c.append("auto_execute",b.autoExecute.toString()),(await e.default.post(`${g}/speech/predict`,c,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4})).data},getModelInfo:async()=>(await h.get("/speech/model/info")).data,getSupportedCommands:async()=>(await h.get("/speech/commands")).data,test:async()=>(await h.post("/speech/test")).data}};d()}catch(a){d(a)}})},6451:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{N:()=>i});var e=c(8732),f=c(8462),g=c(2015),h=a([f]);function i({children:a}){let[b]=(0,g.useState)(()=>new f.QueryClient({defaultOptions:{queries:{staleTime:1e3,retry:3,retryDelay:a=>Math.min(1e3*2**a,3e4)}}}));return(0,e.jsx)(f.QueryClientProvider,{client:b,children:a})}f=(h.then?(await h)():h)[0],d()}catch(a){d(a)}})},6565:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{w:()=>k});var e=c(8732);c(2015);var f=c(1302),g=c(3475),h=a([g]);g=(h.then?(await h)():h)[0];let i=a=>{switch(a){case"LEFT":return"from-blue-500 to-blue-600 shadow-blue-500/25 border-blue-400";case"RIGHT":return"from-emerald-500 to-emerald-600 shadow-emerald-500/25 border-emerald-400";case"FORWARD":return"from-purple-500 to-purple-600 shadow-purple-500/25 border-purple-400";case"BACK":return"from-amber-500 to-amber-600 shadow-amber-500/25 border-amber-400";case"STOP":return"from-red-500 to-red-600 shadow-red-500/25 border-red-400";default:return"from-slate-400 to-slate-500 shadow-slate-500/25 border-slate-400"}},j=a=>{switch(a){case"LEFT":return(0,e.jsx)(f.nkM,{className:"w-8 h-8"});case"RIGHT":return(0,e.jsx)(f.Qpb,{className:"w-8 h-8"});case"FORWARD":return(0,e.jsx)(f.DoI,{className:"w-8 h-8"});case"BACK":return(0,e.jsx)(f.yd$,{className:"w-8 h-8"});default:return(0,e.jsx)(f.M6A,{className:"w-8 h-8"})}},k=()=>{let{data:a,isLoading:b,error:c}=(0,g.D3)(),{data:d,isError:h}=(0,g.ut)(),k=a?.command||"待機中",l=!h&&d?.status==="ok";return(0,e.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 mb-8 border border-white/20 relative overflow-hidden",children:[(0,e.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-blue-500/10 to-transparent rounded-full -mr-16 -mt-16"}),(0,e.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-purple-500/10 to-transparent rounded-full -ml-12 -mb-12"}),(0,e.jsxs)("div",{className:"relative z-10",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg",children:(0,e.jsx)(f.Ilq,{className:"w-6 h-6 text-white"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-700 to-slate-900 bg-clip-text text-transparent",children:"最新コマンド"}),(0,e.jsx)("p",{className:"text-sm text-slate-500",children:"リアルタイム制御状況"})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsxs)("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${l?"bg-emerald-100 text-emerald-700 border border-emerald-200 shadow-emerald-100":"bg-red-100 text-red-700 border border-red-200 shadow-red-100"}`,children:[l?(0,e.jsx)(f.MJO,{className:"w-4 h-4"}):(0,e.jsx)(f.RQC,{className:"w-4 h-4"}),(0,e.jsx)("span",{className:"font-semibold",children:l?"接続中":"切断"}),l&&(0,e.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"})]}),b&&(0,e.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 rounded-full border border-blue-200",children:[(0,e.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,e.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:"更新中"})]})]})]}),c?(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-400 p-6 rounded-xl shadow-lg",children:(0,e.jsxs)("div",{className:"flex items-start gap-4",children:[(0,e.jsx)("div",{className:"flex-shrink-0",children:(0,e.jsx)("div",{className:"w-8 h-8 bg-amber-400 rounded-full flex items-center justify-center",children:(0,e.jsx)(f.KqI,{className:"w-4 h-4 text-white"})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-amber-800 mb-2",children:"デモモード"}),(0,e.jsx)("p",{className:"text-amber-700 mb-1",children:"APIサーバーに接続できません。デモモードで表示しています。"}),(0,e.jsx)("p",{className:"text-sm text-amber-600",children:"本番環境では正常に動作します。"})]})]})}),(0,e.jsx)("div",{className:"flex items-center justify-center",children:(0,e.jsxs)("div",{className:`
                bg-gradient-to-r ${i("STOP")} 
                text-white p-8 rounded-3xl text-center shadow-2xl transform transition-all duration-500
                border-2 opacity-80 hover:opacity-90 hover:scale-105
                min-w-[280px] relative overflow-hidden
              `,children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-white/10 rounded-3xl opacity-20"}),(0,e.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-4",children:[(0,e.jsx)("div",{className:"p-4 bg-white/20 rounded-2xl backdrop-blur-sm",children:j("STOP")}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-3xl font-bold mb-1",children:"デモモード"}),(0,e.jsx)("div",{className:"text-white/80 text-sm",children:"接続待機中"})]})]})]})})]}):(0,e.jsx)("div",{className:"flex items-center justify-center",children:(0,e.jsxs)("div",{className:`
              bg-gradient-to-r ${i(k)} 
              text-white p-8 rounded-3xl text-center shadow-2xl transform transition-all duration-500
              border-2 hover:scale-105 active:scale-95
              min-w-[280px] relative overflow-hidden group
              ${"待機中"!==k?"animate-pulse":""}
            `,children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-white/10 rounded-3xl opacity-0 group-hover:opacity-30 transition-opacity duration-300"}),(0,e.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 rounded-3xl blur transition-opacity duration-300"}),(0,e.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-4",children:[(0,e.jsx)("div",{className:"p-4 bg-white/20 rounded-2xl backdrop-blur-sm transform transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110",children:j(k)}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-4xl font-bold mb-2 tracking-tight",children:k}),"待機中"!==k&&(0,e.jsxs)("div",{className:"flex items-center justify-center gap-2 text-white/80 text-sm",children:[(0,e.jsx)("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-pulse"}),(0,e.jsx)("span",{children:"実行中"}),(0,e.jsx)("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-pulse"})]})]})]}),"待機中"!==k&&(0,e.jsx)("div",{className:"absolute inset-0 rounded-3xl animate-ping bg-white/20 opacity-30"})]})}),a&&(0,e.jsx)("div",{className:"mt-8 text-center",children:(0,e.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100/80 rounded-full border border-slate-200",children:[(0,e.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full"}),(0,e.jsxs)("span",{className:"text-sm text-slate-600 font-medium",children:["最終更新: ",new Date(a.timestamp).toLocaleString("ja-JP",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]})})]})]})};d()}catch(a){d(a)}})}};