(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{143:(e,t,a)=>{"use strict";a.d(t,{K:()=>d});var s=a(1040);let r="http://localhost:8000/api",l=s.A.create({baseURL:r,timeout:1e4,headers:{"Content-Type":"application/json"}});l.interceptors.response.use(e=>e,e=>(console.error("API Error:",e),Promise.reject(e)));let d={getCommand:async()=>(await l.get("/command")).data,async sendCommand(e){let t=await l.post("/log",{word:e});if(!t.data.success)throw Error(t.data.error||"Failed to send command");return{id:t.data.data.id,word:t.data.data.word,timestamp:t.data.data.timestamp}},async getLogs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=await l.get("/logs?limit=".concat(e));if(!t.data.success)throw Error(t.data.error||"Failed to get logs");return t.data.data||[]},async getStats(){let e=await l.get("/stats");if(!e.data.success)throw Error(e.data.error||"Failed to get stats");return e.data.data},healthCheck:async()=>(await l.get("/health")).data,speech:{async predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new FormData;return a.append("audio_file",e),void 0!==t.confidenceThreshold&&a.append("confidence_threshold",t.confidenceThreshold.toString()),void 0!==t.autoExecute&&a.append("auto_execute",t.autoExecute.toString()),(await s.A.post("".concat(r,"/speech/predict"),a,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4})).data},getModelInfo:async()=>(await l.get("/speech/model/info")).data,getSupportedCommands:async()=>(await l.get("/speech/commands")).data,test:async()=>(await l.post("/speech/test")).data}}},1174:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},2922:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/logs",function(){return a(8471)}])},3576:(e,t,a)=>{"use strict";a.d(t,{D3:()=>l,jg:()=>d,ut:()=>i});var s=a(7914),r=a(143);let l=()=>(0,s.I)({queryKey:["command"],queryFn:r.K.getCommand,refetchInterval:1e3,staleTime:500,retry:1,retryDelay:1e3}),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return(0,s.I)({queryKey:["logs",e],queryFn:()=>r.K.getLogs(e),refetchInterval:2e3,staleTime:1e3,retry:1,retryDelay:1e3})},i=()=>(0,s.I)({queryKey:["health"],queryFn:r.K.healthCheck,refetchInterval:3e4,retry:1})},3784:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5691:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},6443:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]])},6928:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},8419:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},8471:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var s=a(7876);a(4232);var r=a(7328),l=a.n(r),d=a(8230),i=a.n(d),n=a(3784),c=a(1907),o=a(5691),m=a(9060),h=a(9926),x=a(8419),p=a(9622),u=a(8995),g=a(6928),j=a(6443),f=a(1174);let w=(0,a(7963).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var b=a(3576);let v=e=>{switch(e){case"LEFT":return"from-blue-500 to-blue-600";case"RIGHT":return"from-emerald-500 to-emerald-600";case"FORWARD":return"from-purple-500 to-purple-600";case"BACK":return"from-amber-500 to-amber-600";case"STOP":return"from-red-500 to-red-600";default:return"from-slate-500 to-slate-600"}},N=e=>{switch(e){case"LEFT":return h.A;case"RIGHT":return x.A;case"FORWARD":return p.A;case"BACK":return u.A;default:return g.A}},y=()=>{let{data:e,isLoading:t,error:a}=(0,b.jg)(30);return(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-6 border border-white/20 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-emerald-500/10 to-transparent rounded-full -ml-16 -mb-16"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"p-2 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl shadow-lg",children:(0,s.jsx)(j.A,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"認識ログ"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"リアルタイム音声認識履歴"})]})]}),t&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),(0,s.jsx)("p",{className:"text-slate-500 font-medium",children:"ログを読み込み中..."})]}),a&&(0,s.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-amber-500 rounded-full",children:(0,s.jsx)(f.A,{className:"w-4 h-4 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-amber-800",children:"デモモード"}),(0,s.jsx)("p",{className:"text-sm text-amber-600",children:"APIサーバーに接続できません。デモデータを表示しています。"})]})]})}),(0,s.jsx)("div",{className:"space-y-4 max-h-[500px] overflow-y-auto custom-scrollbar",children:e&&(null==e?void 0:e.length)!==0||a?a?[{id:1,word:"FORWARD",timestamp:new Date().toISOString()},{id:2,word:"LEFT",timestamp:new Date(Date.now()-3e4).toISOString()},{id:3,word:"RIGHT",timestamp:new Date(Date.now()-6e4).toISOString()},{id:4,word:"STOP",timestamp:new Date(Date.now()-9e4).toISOString()}].map((e,t)=>{let a=N(e.word);return(0,s.jsx)("div",{className:"\n                      group relative p-4 rounded-xl border transition-all duration-300 hover:shadow-md\n                      ".concat(0===t?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 shadow-sm":"bg-slate-50/80 border-slate-200 hover:bg-slate-100/80","\n                    "),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-to-r ".concat(v(e.word)," rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300"),children:(0,s.jsx)(a,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"px-3 py-1 bg-gradient-to-r ".concat(v(e.word)," text-white text-sm font-bold rounded-full shadow-sm"),children:e.word}),0===t&&(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"最新"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,s.jsx)("span",{className:"opacity-75",children:"デモデータ"}),(0,s.jsxs)("span",{className:"text-xs text-slate-400",children:["ID: ",e.id]})]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-1",children:[(0,s.jsx)(w,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"font-mono",children:new Date(e.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),(0,s.jsx)("span",{className:"text-xs text-slate-400",children:new Date(e.timestamp).toLocaleDateString("ja-JP")})]})]})},e.id)}):null==e?void 0:e.map((e,t)=>{let a=N(e.word);return(0,s.jsx)("div",{className:"\n                      group relative p-4 rounded-xl border transition-all duration-300 hover:shadow-md\n                      ".concat(0===t?"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 shadow-sm":"bg-slate-50/80 border-slate-200 hover:bg-slate-100/80","\n                    "),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-to-r ".concat(v(e.word)," rounded-xl shadow-lg group-hover:scale-110 transition-transform duration-300"),children:(0,s.jsx)(a,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"px-3 py-1 bg-gradient-to-r ".concat(v(e.word)," text-white text-sm font-bold rounded-full shadow-sm"),children:e.word}),0===t&&(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"最新"})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:(0,s.jsxs)("span",{children:["コマンド #",e.id]})})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-1",children:[(0,s.jsx)(w,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"font-mono",children:new Date(e.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),(0,s.jsx)("span",{className:"text-xs text-slate-400",children:new Date(e.timestamp).toLocaleDateString("ja-JP")})]})]})},e.id)}):(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("div",{className:"p-4 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,s.jsx)(w,{className:"w-8 h-8 text-slate-400"})}),(0,s.jsx)("h4",{className:"text-lg font-semibold text-slate-600 mb-2",children:"ログが空です"}),(0,s.jsx)("p",{className:"text-slate-500 mb-4",children:"まだログがありません"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"上のテストボタンでコマンドを送信してみてください"})]})})]})]})};function A(){let{isError:e}=(0,b.ut)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"認識ログ - ライントレースカー制御システム"}),(0,s.jsx)("meta",{name:"description",content:"音声認識履歴とコマンド実行ログの確認"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[e&&(0,s.jsxs)("div",{className:"notification-bar",children:[(0,s.jsx)(n.A,{size:16}),(0,s.jsx)("span",{className:"text-sm md:text-base",children:"デモモード: APIサーバーに接続できません（本番環境では正常動作）"})]}),(0,s.jsx)("header",{className:"header",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)(i(),{href:"/",className:"logo",children:[(0,s.jsx)("div",{className:"logo-icon",children:(0,s.jsx)(c.A,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"title",children:"認識ログ"}),(0,s.jsx)("p",{className:"subtitle",children:"音声認識履歴とコマンド実行ログ"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 ml-auto",children:[(0,s.jsx)("a",{href:"http://localhost:8000/api".replace("/api","/docs")||"http://localhost:8000/docs",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 bg-blue-600 hover:bg-blue-500 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg hover:shadow-xl",title:"API ドキュメント",children:(0,s.jsx)(o.A,{size:16,className:"text-white"})}),(0,s.jsx)("a",{href:"https://github.com/your-username/line-tracer-control",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 bg-slate-800 hover:bg-slate-700 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-lg hover:shadow-xl",title:"GitHub リポジトリ",children:(0,s.jsx)(m.A,{size:16,className:"text-white"})})]})]})})}),(0,s.jsx)("main",{className:"flex-1 bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200 py-8 md:py-12",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 lg:px-12",children:(0,s.jsx)(y,{})})}),(0,s.jsx)("footer",{className:"bg-slate-800 text-white py-6 md:py-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-slate-300 text-sm md:text-base",children:"\xa9 2025 ライントレースカー制御システム - FastAPI & Next.js で構築"}),(0,s.jsxs)("div",{className:"mt-3 md:mt-4 flex flex-wrap items-center justify-center gap-4 md:gap-6 text-xs md:text-sm text-slate-400",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),"TailwindCSS"]}),(0,s.jsx)("span",{children:"React Query"}),(0,s.jsx)("span",{children:"TypeScript"})]})]})})})]})]})}},8995:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},9060:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},9622:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},9926:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{e.O(0,[107,636,593,792],()=>e(e.s=2922)),_N_E=e.O()}]);